<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Bernhoeft.GRT.Teste.IntegrationTests.csproj">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Bernhoeft.GRT.Teste.IntegrationTests.csproj" />
              <option name="originalContent" value="&lt;Project Sdk=&quot;Microsoft.NET.Sdk&quot;&gt;&#10;&#10;  &lt;PropertyGroup&gt;&#10;    &lt;TargetFramework&gt;net9.0&lt;/TargetFramework&gt;&#10;    &lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt;&#10;  &lt;/PropertyGroup&gt;&#10;&#10;  &lt;ItemGroup&gt;&#10;    &lt;PackageReference Include=&quot;Bogus&quot; Version=&quot;35.6.2&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;FluentAssertions&quot; Version=&quot;8.1.1&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;Microsoft.AspNetCore.Mvc.Testing&quot; Version=&quot;9.0.2&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;Microsoft.EntityFrameworkCore.InMemory&quot; Version=&quot;9.0.2&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;Microsoft.NET.Test.Sdk&quot; Version=&quot;17.13.0&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;SeedEasy&quot; Version=&quot;2.0.3&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;Soenneker.Utils.AutoBogus&quot; Version=&quot;3.0.689&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;xunit&quot; Version=&quot;2.9.3&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;Xunit.Priority&quot; Version=&quot;1.1.6&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;xunit.runner.visualstudio&quot; Version=&quot;3.0.2&quot;&gt;&#10;      &lt;PrivateAssets&gt;all&lt;/PrivateAssets&gt;&#10;      &lt;IncludeAssets&gt;runtime; build; native; contentfiles; analyzers; buildtransitive&lt;/IncludeAssets&gt;&#10;    &lt;/PackageReference&gt;&#10;  &lt;/ItemGroup&gt;&#10;&#10;  &lt;ItemGroup&gt;&#10;    &lt;ProjectReference Include=&quot;..\..\1-Presentation\Bernhoeft.GRT.Teste.Api\Bernhoeft.GRT.Teste.Api.csproj&quot; /&gt;&#10;  &lt;/ItemGroup&gt;&#10;&#10;    &lt;/Reference&gt;&#10;  &lt;/ItemGroup&gt;&#10;&#10;&lt;/Project&gt;&#10;" />
              <option name="updatedContent" value="&lt;Project Sdk=&quot;Microsoft.NET.Sdk&quot;&gt;&#10;&#10;  &lt;PropertyGroup&gt;&#10;    &lt;TargetFramework&gt;net9.0&lt;/TargetFramework&gt;&#10;    &lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt;&#10;  &lt;/PropertyGroup&gt;&#10;&#10;  &lt;ItemGroup&gt;&#10;    &lt;PackageReference Include=&quot;Bogus&quot; Version=&quot;35.6.2&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;FluentAssertions&quot; Version=&quot;8.1.1&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;Microsoft.AspNetCore.Mvc.Testing&quot; Version=&quot;9.0.2&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;Microsoft.EntityFrameworkCore.InMemory&quot; Version=&quot;9.0.2&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;Microsoft.NET.Test.Sdk&quot; Version=&quot;17.13.0&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;SeedEasy&quot; Version=&quot;2.0.3&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;Soenneker.Utils.AutoBogus&quot; Version=&quot;3.0.689&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;xunit&quot; Version=&quot;2.9.3&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;Xunit.Priority&quot; Version=&quot;1.1.6&quot; /&gt;&#10;    &lt;PackageReference Include=&quot;xunit.runner.visualstudio&quot; Version=&quot;3.0.2&quot;&gt;&#10;      &lt;PrivateAssets&gt;all&lt;/PrivateAssets&gt;&#10;      &lt;IncludeAssets&gt;runtime; build; native; contentfiles; analyzers; buildtransitive&lt;/IncludeAssets&gt;&#10;    &lt;/PackageReference&gt;&#10;  &lt;/ItemGroup&gt;&#10;&#10;  &lt;ItemGroup&gt;&#10;    &lt;ProjectReference Include=&quot;..\..\1-Presentation\Bernhoeft.GRT.Teste.Api\Bernhoeft.GRT.Teste.Api.csproj&quot; /&gt;&#10;  &lt;/ItemGroup&gt;&#10;&#10;  &lt;ItemGroup&gt;&#10;    &lt;Reference Include=&quot;Bernhoeft.GRT.Core&quot;&gt;&#10;      &lt;HintPath&gt;..\..\Libs\Bernhoeft.GRT.Core.dll&lt;/HintPath&gt;&#10;    &lt;/Reference&gt;&#10;    &lt;Reference Include=&quot;Bernhoeft.GRT.Core.EntityFramework&quot;&gt;&#10;      &lt;HintPath&gt;..\..\Libs\Bernhoeft.GRT.Core.EntityFramework.dll&lt;/HintPath&gt;&#10;    &lt;/Reference&gt;&#10;  &lt;/ItemGroup&gt;&#10;&#10;&lt;/Project&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Infra/Repositories/AvisoRepository/AvisoRepositoryTest.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Infra/Repositories/AvisoRepository/AvisoRepositoryTest.cs" />
              <option name="originalContent" value="using Bernhoeft.GRT.ContractWeb.Domain.SqlServer.ContractStore.Interfaces.Repositories;&#10;using Xunit;&#10;&#10;namespace Bernhoeft.GRT.Teste.IntegrationTests.Infra.Repositories.AvisoRepository;&#10;&#10;[Collection(nameof(AvisoRepositoryTest))]&#10;public class AvisoRepositoryTest&#10;{&#10;    private readonly IAvisoRepository _avisoRepository;&#10;    private readonly AvisoRepositoryTestFixture _fixture;&#10;&#10;    public AvisoRepositoryTest(IAvisoRepository avisoRepository, AvisoRepositoryTestFixture fixture)&#10;    {&#10;        _avisoRepository = avisoRepository;&#10;        _fixture = fixture;&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_ObterTodosAvisosAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        // Act&#10;        var avisos = await _avisoRepository.ObterTodosAvisosAsync();&#10;&#10;        // Assert&#10;        Assert.NotNull(avisos);&#10;        Assert.Contains(avisos, a =&gt; a.Id == aviso.Id);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_ObterApenasAvisosAtivos()&#10;    {&#10;        // Arrange&#10;        var avisoAtivo = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(avisoAtivo);&#10;&#10;        var avisoInativo = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(avisoInativo);&#10;        await _avisoRepository.DeletarAvisoAsync(avisoInativo.Id);&#10;&#10;        // Act&#10;        var avisos = await _avisoRepository.ObterTodosAvisosAsync();&#10;&#10;        // Assert&#10;        Assert.NotNull(avisos);&#10;        Assert.Contains(avisos, a =&gt; a.Id == avisoAtivo.Id);&#10;        Assert.DoesNotContain(avisos, a =&gt; a.Id == avisoInativo.Id);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_ObterAvisoPorIdAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        // Act&#10;        var avisoObtido = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id);&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoObtido);&#10;        Assert.Equal(aviso.Id, avisoObtido.Id);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_AtualizarAvisoAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        var novoTitulo = _fixture.GerarTituloValido();&#10;        aviso.Titulo = novoTitulo;&#10;&#10;        // Act&#10;        await _avisoRepository.AtualizarAvisoAsync(aviso);&#10;        var avisoAtualizado = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id);&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoAtualizado);&#10;        Assert.Equal(novoTitulo, avisoAtualizado.Titulo);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_DeletarAvisoAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        // Act&#10;        await _avisoRepository.DeletarAvisoAsync(aviso.Id);&#10;        var avisoDeletado = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id);&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoDeletado);&#10;        Assert.False(avisoDeletado.Ativo);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_LancarExcecaoAoDeletarAvisoInexistente()&#10;    {&#10;        // Arrange&#10;        var avisoInexistenteId = -1;&#10;&#10;        // Act &amp; Assert&#10;        await Assert.ThrowsAsync&lt;Exception&gt;(async () =&gt;&#10;        {&#10;            await _avisoRepository.DeletarAvisoAsync(avisoInexistenteId);&#10;        });&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_CriarAvisoAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;&#10;        // Act&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;        var avisoCriado = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id);&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoCriado);&#10;        Assert.Equal(aviso.Titulo, avisoCriado.Titulo);&#10;        Assert.Equal(aviso.Mensagem, avisoCriado.Mensagem);&#10;    }&#10;}" />
              <option name="updatedContent" value="using Bernhoeft.GRT.ContractWeb.Domain.SqlServer.ContractStore.Interfaces.Repositories;&#10;using Xunit;&#10;&#10;namespace Bernhoeft.GRT.Teste.IntegrationTests.Infra.Repositories.AvisoRepository;&#10;&#10;[Collection(&quot;AvisoRepositoryTestCollection&quot;)]&#10;public class AvisoRepositoryTest : IClassFixture&lt;AvisoRepositoryTestFixture&gt;&#10;{&#10;    private readonly IAvisoRepository _avisoRepository;&#10;    private readonly AvisoRepositoryTestFixture _fixture;&#10;&#10;    public AvisoRepositoryTest(AvisoRepositoryTestCollectionFixture collectionFixture, AvisoRepositoryTestFixture fixture)&#10;    {&#10;        _avisoRepository = (IAvisoRepository)collectionFixture.ServiceProvider.GetService(typeof(IAvisoRepository));&#10;        _fixture = fixture;&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_ObterTodosAvisosAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        // Act&#10;        var avisos = await _avisoRepository.ObterTodosAvisosAsync();&#10;&#10;        // Assert&#10;        Assert.NotNull(avisos);&#10;        Assert.Contains(avisos, a =&gt; a.Id == aviso.Id);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_ObterApenasAvisosAtivos()&#10;    {&#10;        // Arrange&#10;        var avisoAtivo = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(avisoAtivo);&#10;&#10;        var avisoInativo = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(avisoInativo);&#10;        await _avisoRepository.DeletarAvisoAsync(avisoInativo.Id);&#10;&#10;        // Act&#10;        var avisos = await _avisoRepository.ObterTodosAvisosAsync();&#10;&#10;        // Assert&#10;        Assert.NotNull(avisos);&#10;        Assert.Contains(avisos, a =&gt; a.Id == avisoAtivo.Id);&#10;        Assert.DoesNotContain(avisos, a =&gt; a.Id == avisoInativo.Id);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_ObterAvisoPorIdAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        // Act&#10;        var avisoObtido = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id);&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoObtido);&#10;        Assert.Equal(aviso.Id, avisoObtido.Id);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_AtualizarAvisoAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        var novoTitulo = _fixture.GerarTituloValido();&#10;        aviso.Titulo = novoTitulo;&#10;&#10;        // Act&#10;        await _avisoRepository.AtualizarAvisoAsync(aviso);&#10;        var avisoAtualizado = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id);&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoAtualizado);&#10;        Assert.Equal(novoTitulo, avisoAtualizado.Titulo);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_DeletarAvisoAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        // Act&#10;        await _avisoRepository.DeletarAvisoAsync(aviso.Id);&#10;        var avisoDeletado = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id);&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoDeletado);&#10;        Assert.False(avisoDeletado.Ativo);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_LancarExcecaoAoDeletarAvisoInexistente()&#10;    {&#10;        // Arrange&#10;        var avisoInexistenteId = -1;&#10;&#10;        // Act &amp; Assert&#10;        await Assert.ThrowsAsync&lt;Exception&gt;(async () =&gt;&#10;        {&#10;            await _avisoRepository.DeletarAvisoAsync(avisoInexistenteId);&#10;        });&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_CriarAvisoAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;&#10;        // Act&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;        var avisoCriado = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id);&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoCriado);&#10;        Assert.Equal(aviso.Titulo, avisoCriado.Titulo);&#10;        Assert.Equal(aviso.Mensagem, avisoCriado.Mensagem);&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Infra/Repositories/AvisoRepository/AvisoRepositoryTestCollectionFixture.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Infra/Repositories/AvisoRepository/AvisoRepositoryTestCollectionFixture.cs" />
              <option name="updatedContent" value="using System;&#10;using Bernhoeft.GRT.ContractWeb.Domain.SqlServer.ContractStore.Interfaces.Repositories;&#10;using Bernhoeft.GRT.Teste.Infra.Persistence.InMemory.Repositories;&#10;using Microsoft.EntityFrameworkCore;&#10;using Microsoft.Extensions.DependencyInjection;&#10;using Xunit;&#10;&#10;public class AvisoRepositoryTestCollectionFixture : IDisposable&#10;{&#10;    public ServiceProvider ServiceProvider { get; }&#10;&#10;    public AvisoRepositoryTestCollectionFixture()&#10;    {&#10;        var services = new ServiceCollection();&#10;        services.AddDbContext&lt;TestDbContext&gt;(options =&gt;&#10;            options.UseInMemoryDatabase(&quot;integration-tests-db&quot;));&#10;        services.AddScoped&lt;DbContext&gt;(provider =&gt; provider.GetRequiredService&lt;TestDbContext&gt;());&#10;        services.AddScoped&lt;IAvisoRepository, AvisoRepository&gt;();&#10;        ServiceProvider = services.BuildServiceProvider();&#10;    }&#10;&#10;    public void Dispose()&#10;    {&#10;        ServiceProvider?.Dispose();&#10;    }&#10;}&#10;&#10;[CollectionDefinition(&quot;AvisoRepositoryTestCollection&quot;)]&#10;public class AvisoRepositoryTestCollection : ICollectionFixture&lt;AvisoRepositoryTestCollectionFixture&gt;&#10;{&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Infra/Repositories/AvisoRepository/TestDbContext.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Infra/Repositories/AvisoRepository/TestDbContext.cs" />
              <option name="updatedContent" value="using Microsoft.EntityFrameworkCore;&#10;using Bernhoeft.GRT.ContractWeb.Domain.SqlServer.ContractStore.Entities;&#10;&#10;namespace Bernhoeft.GRT.Teste.IntegrationTests.Infra.Repositories.AvisoRepository;&#10;&#10;public class TestDbContext : DbContext&#10;{&#10;    public TestDbContext(DbContextOptions&lt;TestDbContext&gt; options) : base(options) { }&#10;    public DbSet&lt;AvisoEntity&gt; Avisos { get; set; }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Infra/Repositories/AvisoRepositoryTest/AvisoRepositoryTest.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Infra/Repositories/AvisoRepositoryTest/AvisoRepositoryTest.cs" />
              <option name="originalContent" value="using Bernhoeft.GRT.Teste.Domain.Interfaces.Repositories;&#10;using Bernhoeft.GRT.Teste.Infra.Persistence.InMemory.Repositories;&#10;using Microsoft.EntityFrameworkCore;&#10;using Xunit;&#10;&#10;[Collection(nameof(AvisoRepositoryTest))]&#10;public class AvisoRepositoryTest&#10;[Collection(&quot;AvisoRepositoryTestCollection&quot;)]&#10;public class AvisoRepositoryTest : IClassFixture&lt;AvisoRepositoryTestFixture&gt;&#10;{&#10;    private readonly IAvisoRepository _avisoRepository;&#10;    public AvisoRepositoryTest(IAvisoRepository avisoRepository, AvisoRepositoryTestFixture fixture)&#10;    private readonly AvisoRepositoryTestCollectionFixture _collectionFixture;&#10;        _avisoRepository = avisoRepository;&#10;    public AvisoRepositoryTest(AvisoRepositoryTestCollectionFixture collectionFixture,&#10;        AvisoRepositoryTestFixture fixture)&#10;        _avisoRepository = new AvisoRepository(collectionFixture.ServiceProvider, fixture.CreateDbContext());&#10;        _collectionFixture = collectionFixture;&#10;        _avisoRepository = new AvisoRepository(collectionFixture.ServiceProvider, context);&#10;        _fixture = fixture;&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_ObterTodosAvisosAsync()&#10;    {&#10;        DbContext context = _fixture.CreateDbContext();&#10;        var repository = new AvisoRepository(_collectionFixture.ServiceProvider, context);&#10;&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await repository.CriarAvisoAsync(aviso);&#10;&#10;        // Act&#10;        var avisos = await repository.ObterTodosAvisosAsync();&#10;&#10;        // Assert&#10;        Assert.NotNull(avisos);&#10;        Assert.Contains(avisos, a =&gt; a.Id == aviso.Id);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_Obter_Apenas_Avisos_Ativos()&#10;    {&#10;        // Arrange&#10;        var avisoAtivo = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(avisoAtivo);&#10;&#10;        var avisoInativo = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(avisoInativo);&#10;        await _avisoRepository.DeletarAvisoAsync(avisoInativo.Id, new CancellationToken());&#10;&#10;        // Act&#10;        var avisos = await _avisoRepository.ObterTodosAvisosAsync();&#10;&#10;        // Assert&#10;        Assert.NotNull(avisos);&#10;        Assert.Contains(avisos, a =&gt; a.Id == avisoAtivo.Id);&#10;        Assert.DoesNotContain(avisos, a =&gt; a.Id == avisoInativo.Id);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_ObterAvisoPorIdAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        // Act&#10;        var avisoObtido = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id, new CancellationToken());&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoObtido);&#10;        Assert.Equal(aviso.Id, avisoObtido.Id);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_AtualizarAvisoAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        var novoTitulo = _fixture.GerarTituloValido();&#10;        aviso.Titulo = novoTitulo;&#10;&#10;        // Act&#10;        await _avisoRepository.AtualizarAvisoAsync(aviso);&#10;        var avisoAtualizado = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id, new CancellationToken());&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoAtualizado);&#10;        Assert.Equal(novoTitulo, avisoAtualizado.Titulo);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_DeletarAvisoAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        // Act&#10;        await _avisoRepository.DeletarAvisoAsync(aviso.Id, CancellationToken.None);&#10;        var avisoDeletado = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id, CancellationToken.None);&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoDeletado);&#10;        Assert.False(avisoDeletado.Ativo);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_LancarExcecaoAoDeletarAvisoInexistente()&#10;    {&#10;        // Arrange&#10;        var avisoInexistenteId = -1;&#10;&#10;        // Act &amp; Assert&#10;        await Assert.ThrowsAsync&lt;Exception&gt;(async () =&gt;&#10;        {&#10;            await _avisoRepository.DeletarAvisoAsync(avisoInexistenteId, CancellationToken.None);&#10;        });&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_CriarAvisoAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;&#10;        // Act&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;        var avisoCriado = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id, CancellationToken.None);&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoCriado);&#10;        Assert.Equal(aviso.Titulo, avisoCriado.Titulo);&#10;        Assert.Equal(aviso.Mensagem, avisoCriado.Mensagem);&#10;    }&#10;}" />
              <option name="updatedContent" value="using Bernhoeft.GRT.Teste.Domain.Interfaces.Repositories;&#10;using Bernhoeft.GRT.Teste.Infra.Persistence.InMemory.Repositories;&#10;using Microsoft.EntityFrameworkCore;&#10;using Xunit;&#10;&#10;namespace Bernhoeft.GRT.Teste.IntegrationTests.Infra.Repositories.AvisoRepositoryTest;&#10;&#10;[Collection(&quot;AvisoRepositoryTestCollection&quot;)]&#10;public class AvisoRepositoryTest : IClassFixture&lt;AvisoRepositoryTestFixture&gt;, IAsyncLifetime&#10;{&#10;    private readonly IAvisoRepository _avisoRepository;&#10;    private readonly AvisoRepositoryTestFixture _fixture;&#10;    private readonly AvisoRepositoryTestCollectionFixture _collectionFixture;&#10;&#10;    public AvisoRepositoryTest(AvisoRepositoryTestCollectionFixture collectionFixture,&#10;        AvisoRepositoryTestFixture fixture)&#10;    {&#10;        _collectionFixture = collectionFixture;&#10;        _avisoRepository = (IAvisoRepository)collectionFixture.ServiceProvider.GetService(typeof(IAvisoRepository));&#10;        _fixture = fixture;&#10;    }&#10;&#10;    public async Task InitializeAsync() { /* Não precisa de setup extra */ }&#10;    public async Task DisposeAsync()&#10;    {&#10;        // Limpa todos os dados após cada teste&#10;        var dbContext = (DbContext)_collectionFixture.ServiceProvider.GetService(typeof(DbContext));&#10;        if (dbContext != null)&#10;        {&#10;            await dbContext.Database.EnsureDeletedAsync();&#10;            await dbContext.Database.EnsureCreatedAsync();&#10;        }&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_ObterTodosAvisosAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        // Act&#10;        var avisos = await _avisoRepository.ObterTodosAvisosAsync();&#10;&#10;        // Assert&#10;        Assert.NotNull(avisos);&#10;        Assert.Contains(avisos, a =&gt; a.Id == aviso.Id);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_Obter_Apenas_Avisos_Ativos()&#10;    {&#10;        // Arrange&#10;        var avisoAtivo = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(avisoAtivo);&#10;&#10;        var avisoInativo = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(avisoInativo);&#10;        await _avisoRepository.DeletarAvisoAsync(avisoInativo.Id, new CancellationToken());&#10;&#10;        // Act&#10;        var avisos = await _avisoRepository.ObterTodosAvisosAsync();&#10;&#10;        // Assert&#10;        Assert.NotNull(avisos);&#10;        Assert.Contains(avisos, a =&gt; a.Id == avisoAtivo.Id);&#10;        Assert.DoesNotContain(avisos, a =&gt; a.Id == avisoInativo.Id);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_ObterAvisoPorIdAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        // Act&#10;        var avisoObtido = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id, new CancellationToken());&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoObtido);&#10;        Assert.Equal(aviso.Id, avisoObtido.Id);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_AtualizarAvisoAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        var novoTitulo = _fixture.GerarTituloValido();&#10;        aviso.Titulo = novoTitulo;&#10;&#10;        // Act&#10;        await _avisoRepository.AtualizarAvisoAsync(aviso);&#10;        var avisoAtualizado = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id, new CancellationToken());&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoAtualizado);&#10;        Assert.Equal(novoTitulo, avisoAtualizado.Titulo);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_DeletarAvisoAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;&#10;        // Act&#10;        await _avisoRepository.DeletarAvisoAsync(aviso.Id, CancellationToken.None);&#10;        var avisoDeletado = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id, CancellationToken.None);&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoDeletado);&#10;        Assert.False(avisoDeletado.Ativo);&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_LancarExcecaoAoDeletarAvisoInexistente()&#10;    {&#10;        // Arrange&#10;        var avisoInexistenteId = -1;&#10;&#10;        // Act &amp; Assert&#10;        await Assert.ThrowsAsync&lt;Exception&gt;(async () =&gt;&#10;        {&#10;            await _avisoRepository.DeletarAvisoAsync(avisoInexistenteId, CancellationToken.None);&#10;        });&#10;    }&#10;&#10;    [Fact]&#10;    public async Task Teste_AvisoRepository_Deve_CriarAvisoAsync()&#10;    {&#10;        // Arrange&#10;        var aviso = _fixture.GerarAvisoValido();&#10;&#10;        // Act&#10;        await _avisoRepository.CriarAvisoAsync(aviso);&#10;        var avisoCriado = await _avisoRepository.ObterAvisoPorIdAsync(aviso.Id, CancellationToken.None);&#10;&#10;        // Assert&#10;        Assert.NotNull(avisoCriado);&#10;        Assert.Equal(aviso.Titulo, avisoCriado.Titulo);&#10;        Assert.Equal(aviso.Mensagem, avisoCriado.Mensagem);&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Infra/Repositories/AvisoRepositoryTest/AvisoRepositoryTestCollectionFixture.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Infra/Repositories/AvisoRepositoryTest/AvisoRepositoryTestCollectionFixture.cs" />
              <option name="originalContent" value="    public ServiceProvider ServiceProvider { get; }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="using Bernhoeft.GRT.Teste.Domain.Interfaces.Repositories;&#10;using Bernhoeft.GRT.Teste.Infra.Persistence.InMemory.Repositories;&#10;using Microsoft.EntityFrameworkCore;&#10;using Microsoft.Extensions.DependencyInjection;&#10;using Xunit;&#10;&#10;namespace Bernhoeft.GRT.Teste.IntegrationTests.Infra.Repositories.AvisoRepositoryTest;&#10;&#10;public class AvisoRepositoryTestCollectionFixture : IDisposable&#10;{&#10;    public ServiceProvider ServiceProvider { get; }&#10;&#10;    public AvisoRepositoryTestCollectionFixture()&#10;    {&#10;        var services = new ServiceCollection();&#10;        services.AddDbContext&lt;TestDbContext&gt;(options =&gt;&#10;            options.UseInMemoryDatabase(&quot;integration-tests-db&quot;));&#10;        services.AddScoped&lt;DbContext&gt;(provider =&gt; provider.GetRequiredService&lt;TestDbContext&gt;());&#10;        services.AddScoped&lt;IAvisoRepository, AvisoRepository&gt;();&#10;        ServiceProvider = services.BuildServiceProvider();&#10;    }&#10;&#10;    public void Dispose()&#10;    {&#10;        ServiceProvider?.Dispose();&#10;    }&#10;}&#10;&#10;[CollectionDefinition(&quot;AvisoRepositoryTestCollection&quot;)]&#10;public class AvisoRepositoryTestCollection : ICollectionFixture&lt;AvisoRepositoryTestCollectionFixture&gt;&#10;{&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Infra/Repositories/AvisoRepositoryTest/AvisoRepositoryTestFixture.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Infra/Repositories/AvisoRepositoryTest/AvisoRepositoryTestFixture.cs" />
              <option name="originalContent" value="using Bernhoeft.GRT.ContractWeb.Domain.SqlServer.ContractStore.Entities;&#10;using Bernhoeft.GRT.Teste.IntegrationTests.Base;&#10;using Xunit;&#10;&#10;namespace Bernhoeft.GRT.Teste.IntegrationTests.Infra.Repositories.AvisoRepositoryTest;&#10;&#10;[CollectionDefinition(nameof(AvisoRepositoryTestFixture))]&#10;public class CategoryRepositoryTestFixtureCollection&#10;    : ICollectionFixture&lt;AvisoRepositoryTestFixture&gt;&#10;{}&#10;&#10;public class AvisoRepositoryTestFixture : BaseFixture&#10;{&#10;    public string GerarTituloValido()&#10;    {&#10;        var titulo = Faker.Lorem.Sentence(7);&#10;        return titulo;&#10;    }&#10;&#10;    public string GerarMensagemValida()&#10;    {&#10;        var mensagem = Faker.Lorem.Paragraph(1);&#10;        return mensagem;&#10;    }&#10;&#10;    public AvisoEntity GerarAvisoValido()&#10;    {&#10;        var aviso = new AvisoEntity&#10;        {&#10;            Titulo = GerarTituloValido(),&#10;            Mensagem = GerarMensagemValida()&#10;        };&#10;        return aviso;&#10;    }&#10;}" />
              <option name="updatedContent" value="using Bernhoeft.GRT.ContractWeb.Domain.SqlServer.ContractStore.Entities;&#10;using Bernhoeft.GRT.Teste.IntegrationTests.Base;&#10;using Xunit;&#10;&#10;namespace Bernhoeft.GRT.Teste.IntegrationTests.Infra.Repositories.AvisoRepositoryTest;&#10;&#10;[CollectionDefinition(nameof(AvisoRepositoryTestFixture))]&#10;public class CategoryRepositoryTestFixtureCollection&#10;    : ICollectionFixture&lt;AvisoRepositoryTestFixture&gt;&#10;{}&#10;&#10;public class AvisoRepositoryTestFixture : BaseFixture&#10;{&#10;    public string GerarTituloValido()&#10;    {&#10;        var titulo = Faker.Lorem.Sentence(7);&#10;        return titulo;&#10;    }&#10;&#10;    public string GerarMensagemValida()&#10;    {&#10;        var mensagem = Faker.Lorem.Paragraph(1);&#10;        return mensagem;&#10;    }&#10;&#10;    public AvisoEntity GerarAvisoValido()&#10;    {&#10;        var aviso = new AvisoEntity&#10;        {&#10;            Titulo = GerarTituloValido(),&#10;            Mensagem = GerarMensagemValida()&#10;        };&#10;        return aviso;&#10;    }&#10;&#10;    public TestDbContext CreateDbContext(bool preserveData = false)&#10;    {&#10;        var options = new DbContextOptionsBuilder&lt;TestDbContext&gt;()&#10;            .UseInMemoryDatabase(&quot;integration-tests-db&quot;)&#10;            .Options;&#10;        var context = new TestDbContext(options);&#10;        if (!preserveData)&#10;            context.Database.EnsureDeleted();&#10;        return context;&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Infra/Repositories/AvisoRepositoryTest/TestDbContext.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/0-Tests/Bernhoeft.GRT.Teste.IntegrationTests/Infra/Repositories/AvisoRepositoryTest/TestDbContext.cs" />
              <option name="updatedContent" value="using Microsoft.EntityFrameworkCore;&#10;using Bernhoeft.GRT.Teste.Domain.Entities;&#10;&#10;namespace Bernhoeft.GRT.Teste.IntegrationTests.Infra.Repositories.AvisoRepositoryTest;&#10;&#10;public class TestDbContext : DbContext&#10;{&#10;    public TestDbContext(DbContextOptions&lt;TestDbContext&gt; options) : base(options) { }&#10;    public DbSet&lt;AvisoEntity&gt; Avisos { get; set; }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/3-Domain/Bernhoeft.GRT.Teste.Domain/Interfaces/Repositories/IAvisoRepository.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/3-Domain/Bernhoeft.GRT.Teste.Domain/Interfaces/Repositories/IAvisoRepository.cs" />
              <option name="originalContent" value="&#10;&#10;using Bernhoeft.GRT.Core.EntityFramework.Domain.Interfaces;&#10;using Bernhoeft.GRT.Teste.Domain.Entities;&#10;&#10;namespace Bernhoeft.GRT.Teste.Domain.Interfaces.Repositories&#10;{&#10;    public interface IAvisoRepository : IRepository&lt;AvisoEntity&gt;&#10;    {&#10;        Task CriarAvisoAsync(AvisoEntity aviso, CancellationToken cancellationToken = default);&#10;        Task AtualizarAvisoAsync(AvisoEntity aviso);&#10;        Task DeletarAvisoAsync(int id, CancellationToken cancellationToken);&#10;        Task&lt;AvisoEntity&gt; ObterAvisoPorIdAsync(int id, CancellationToken cancellationToken);&#10;        Task&lt;List&lt;AvisoEntity&gt;&gt; ObterTodosAvisosAsync();&#10;    }&#10;}" />
              <option name="updatedContent" value="using Bernhoeft.GRT.Core.EntityFramework.Domain.Interfaces;&#10;using Bernhoeft.GRT.Teste.Domain.Entities;&#10;&#10;namespace Bernhoeft.GRT.Teste.Domain.Interfaces.Repositories&#10;{&#10;    public interface IAvisoRepository : IRepository&lt;AvisoEntity&gt;&#10;    {&#10;        Task CriarAvisoAsync(AvisoEntity aviso, CancellationToken cancellationToken = default);&#10;        Task AtualizarAvisoAsync(AvisoEntity aviso);&#10;        Task DeletarAvisoAsync(int id, CancellationToken cancellationToken);&#10;        Task&lt;AvisoEntity&gt; ObterAvisoPorIdAsync(int id, CancellationToken cancellationToken);&#10;        Task&lt;List&lt;AvisoEntity&gt;&gt; ObterTodosAvisosAsync();&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/4-Infra/Bernhoeft.GRT.Teste.Infra.Persistence.InMemory/Repositories/AvisoRepository.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/4-Infra/Bernhoeft.GRT.Teste.Infra.Persistence.InMemory/Repositories/AvisoRepository.cs" />
              <option name="originalContent" value="using Bernhoeft.GRT.Core.Attributes;&#10;using Bernhoeft.GRT.Core.EntityFramework.Infra;&#10;using Bernhoeft.GRT.Teste.Domain.Entities;&#10;using Bernhoeft.GRT.Teste.Domain.Interfaces.Repositories;&#10;using Bernhoeft.GRT.Teste.Application.Exceptions;&#10;using JetBrains.Annotations;&#10;using Microsoft.EntityFrameworkCore;&#10;&#10;namespace Bernhoeft.GRT.Teste.Infra.Persistence.InMemory.Repositories&#10;{&#10;    [InjectService(Interface: typeof(IAvisoRepository))]&#10;    [UsedImplicitly]&#10;    public class AvisoRepository: Repository&lt;AvisoEntity&gt;, IAvisoRepository&#10;    {&#10;        private readonly DbContext _dbContext;&#10;        private DbSet&lt;AvisoEntity&gt; _avisos =&gt; _dbContext.Set&lt;AvisoEntity&gt;();&#10;&#10;        public AvisoRepository(IServiceProvider serviceProvider, DbContext dbContext) : base(serviceProvider) =&gt;&#10;            _dbContext = dbContext;&#10;&#10;        public async Task CriarAvisoAsync(AvisoEntity aviso, CancellationToken cancellationToken = default)&#10;        {&#10;            await _avisos.AddAsync(aviso, cancellationToken);&#10;        }&#10;&#10;        public Task AtualizarAvisoAsync(AvisoEntity aviso) =&gt; Task.FromResult(_avisos.Update(aviso));&#10;&#10;&#10;        public async Task DeletarAvisoAsync(int id, CancellationToken cancellationToken)&#10;        {&#10;            var aviso = await _avisos.AsNoTracking().FirstOrDefaultAsync(x =&gt; x.Id == id, cancellationToken);&#10;            NotFoundException.ThrowIfNull(aviso, &quot;Aviso não encontrado.&quot;);&#10;            aviso.Ativo = false;&#10;            _avisos.Update(aviso);&#10;        }&#10;&#10;        public async Task&lt;AvisoEntity&gt; ObterAvisoPorIdAsync(int id, CancellationToken cancellationToken)&#10;        {&#10;            var aviso = await _avisos.AsNoTracking().FirstOrDefaultAsync(x =&gt; x.Id == id, cancellationToken);&#10;            NotFoundException.ThrowIfNull(aviso, &quot;Aviso não encontrado.&quot;);&#10;            return aviso;&#10;        }&#10;&#10;        public Task&lt;List&lt;AvisoEntity&gt;&gt; ObterTodosAvisosAsync()&#10;        {&#10;            var avisos = _avisos.AsNoTracking().Where(x =&gt; x.Ativo).ToListAsync();&#10;            return avisos;&#10;        }&#10;    }&#10;}" />
              <option name="updatedContent" value="using Bernhoeft.GRT.Core.Attributes;&#10;using Bernhoeft.GRT.Core.EntityFramework.Infra;&#10;using Bernhoeft.GRT.Teste.Domain.Entities;&#10;using Bernhoeft.GRT.Teste.Domain.Interfaces.Repositories;&#10;using Bernhoeft.GRT.Teste.Application.Exceptions;&#10;using JetBrains.Annotations;&#10;using Microsoft.EntityFrameworkCore;&#10;&#10;namespace Bernhoeft.GRT.Teste.Infra.Persistence.InMemory.Repositories&#10;{&#10;    [InjectService(Interface: typeof(IAvisoRepository))]&#10;    [UsedImplicitly]&#10;    public class AvisoRepository : Repository&lt;AvisoEntity&gt;, IAvisoRepository&#10;    {&#10;        private readonly DbContext _dbContext;&#10;        private DbSet&lt;AvisoEntity&gt; Avisos =&gt; _dbContext.Set&lt;AvisoEntity&gt;();&#10;&#10;        public AvisoRepository(DbContext dbContext) : base(dbContext) =&gt;&#10;            _dbContext = dbContext;&#10;&#10;        public async Task CriarAvisoAsync(AvisoEntity aviso, CancellationToken cancellationToken = default)&#10;        {&#10;            await Avisos.AddAsync(aviso, cancellationToken);&#10;            await _dbContext.SaveChangesAsync(cancellationToken);&#10;        }&#10;&#10;        public async Task AtualizarAvisoAsync(AvisoEntity aviso)&#10;        {&#10;            var tracked = await Avisos.FindAsync(aviso.Id);&#10;            if (tracked != null)&#10;            {&#10;                _dbContext.Entry(tracked).CurrentValues.SetValues(aviso);&#10;            }&#10;            else&#10;            {&#10;                Avisos.Update(aviso);&#10;            }&#10;            await _dbContext.SaveChangesAsync();&#10;        }&#10;&#10;        public async Task DeletarAvisoAsync(int id, CancellationToken cancellationToken)&#10;        {&#10;            var aviso = await Avisos.AsNoTracking().FirstOrDefaultAsync(x =&gt; x.Id == id, cancellationToken);&#10;            NotFoundException.ThrowIfNull(aviso, &quot;Aviso não encontrado.&quot;);&#10;            aviso.Ativo = false;&#10;            Avisos.Update(aviso);&#10;            await _dbContext.SaveChangesAsync(cancellationToken);&#10;        }&#10;&#10;        public async Task&lt;AvisoEntity&gt; ObterAvisoPorIdAsync(int id, CancellationToken cancellationToken)&#10;        {&#10;            var aviso = await Avisos.AsNoTracking().FirstOrDefaultAsync(x =&gt; x.Id == id &amp;&amp; !x.Ativo, cancellationToken);&#10;            NotFoundException.ThrowIfNull(aviso, &quot;Aviso não encontrado.&quot;);&#10;            return aviso;&#10;        }&#10;&#10;        public Task&lt;List&lt;AvisoEntity&gt;&gt; ObterTodosAvisosAsync()&#10;        {&#10;            var avisos = Avisos.AsNoTracking().Where(x =&gt; x.Ativo).ToListAsync();&#10;            return avisos;&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>